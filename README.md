Еще одна реализация паттерна AdapterDelegate
Простая реализация, позволяющая использовать несколько разных элементов в одном списке. Пока поддерживает только ViewBinding и DiffUtil.
В результате получилось 2 достаточно компактных класса и 2 интерфейса.
AdapterDelegate - интерфейс, описывающий то, как будет вести себя делегат главного адаптера.
В нем есть 4 метода:
1. onBindViewHolder - на вход идет нужный итем и биндинг. Функционал тот же что и в обычном адаптере только немного меньше кода в итоге.
2. getViewBindingInflater - возвращает метод inflate биндинга.
3. isForViewType - проверяет правильность типа итема
4. onRecycle - Функционал тот же что и в обычном адаптере.
CompositeDelegateAdapter - собственно сам класс. Хранит в себе список делегатов и мапу компараторов ((в контексте реализации)классов, которые сравнивают элементы списка).
Извне доступен только список элементов, методы, добавляющие адаптеры и компараторы.
DiffCallback - сравнивает элементы.
ItemComparator - интерфейс, содержащий 2 метода на сравнение содержимого и то, одинаковые ли это итемы.
У такой реализации есть ряд плюсов:
1. Она довольно быстрая при изменении списка из за использования DiffUtil.
2. Возможно по мере работы программы добавлять новые элементы.
